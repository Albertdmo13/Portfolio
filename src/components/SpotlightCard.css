.card-spotlight {
    position: relative;
    border-radius: 0;
    border-style: solid;
    border-width: var(--border-width-visual);
    border-image-source: var(--texture-url);
    border-image-slice: var(--slice-amount) fill;
    border-image-repeat: stretch;
    image-rendering: pixelated;
    box-sizing: border-box;

    --rotate-x: 0deg;
    --rotate-y: 0deg;
    --holo-x: 50%;
    --holo-y: 50%;
    --holo-opacity: 0;

    transform: perspective(1000px) rotateX(var(--rotate-x)) rotateY(var(--rotate-y)) scale3d(1, 1, 1);
    transition: transform 0.1s ease-out;
    position: relative;
    z-index: 2;
}

.card-spotlight::after {
    content: "";
    position: absolute;
    /* Expand to cover the border */
    top: calc(var(--border-width-visual) * -1);
    left: calc(var(--border-width-visual) * -1);
    right: calc(var(--border-width-visual) * -1);
    bottom: calc(var(--border-width-visual) * -1);
    
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0) 30%,
        rgba(255, 0, 255, 0.4) 45%,
        rgba(0, 255, 255, 0.4) 50%,
        rgba(255, 255, 0, 0.4) 55%,
        rgba(255, 255, 255, 0) 70%,
        rgba(255, 255, 255, 0) 100%
    );
    background-size: 200% 200%;
    background-position: var(--holo-x) var(--holo-y);
    opacity: var(--holo-opacity);
    mix-blend-mode: color-dodge;
    pointer-events: none;
    z-index: 20;
    transition: opacity 0.2s ease;
    
    /* Mask the gradient to the 9-slice shape */
    -webkit-mask-box-image-source: var(--texture-url);
    -webkit-mask-box-image-slice: var(--slice-amount) fill;
    -webkit-mask-box-image-repeat: stretch;
    mask-border-source: var(--texture-url);
    mask-border-slice: var(--slice-amount) fill;
    mask-border-repeat: stretch;
}

/* Al pasar el mouse */
.card-spotlight:hover {
    transform: perspective(1000px) rotateX(var(--rotate-x)) rotateY(var(--rotate-y)) scale3d(1.05, 1.05, 1.05);
    /* Combine brightness with drop-shadows for the outline */
    filter: brightness(1.2) 
            drop-shadow(0 0 calc(1px * var(--pixel-size)) rgba(255, 255, 255, 1.0))
            drop-shadow(0 0 calc(5px * var(--pixel-size)) rgba(255, 255, 255, 0.3));
    z-index: 10;
}

.card-spotlight.hovered {
    /* Box shadow removed in favor of filter on :hover */
    /* If we need to support 'hovered' prop without actual mouse hover, we might need to duplicate the filter here, 
       but usually :hover covers the mouse interaction. 
       The original code had a separate .hovered class rule for the box-shadow. 
       Let's keep it but use filter instead of box-shadow. */
    filter: brightness(1.2) 
            drop-shadow(0 0 calc(1px * var(--pixel-size)) rgba(255, 255, 255, 1.0))
            drop-shadow(0 0 calc(5px * var(--pixel-size)) rgba(255, 255, 255, 0.3));
}

/* Contenido en primer plano */
.card-spotlight>* {
    position: relative;
    z-index: 2;
    transform: translateZ(65px);
}
